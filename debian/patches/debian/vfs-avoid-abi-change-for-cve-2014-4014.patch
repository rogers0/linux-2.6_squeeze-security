From: Ben Hutchings <ben@decadent.org.uk>
Date: Sun, 15 Jun 2014 23:59:03 +0100
Subject: vfs: Avoid ABI change for CVE-2014-4014
Forwarded: not-needed

inode_capable() was renamed for good reasons, but we should keep
providing a function with that name.  The only modular in-tree caller,
xfs, wants the new behaviour of capable_wrt_inode_uidgid(), so make
inode_capable() call that.

--- a/kernel/capability.c
+++ b/kernel/capability.c
@@ -449,3 +449,9 @@ bool capable_wrt_inode_uidgid(const stru
 		kgid_has_mapping(ns, inode->i_gid);
 }
 EXPORT_SYMBOL(capable_wrt_inode_uidgid);
+
+bool inode_capable(const struct inode *inode, int cap)
+{
+	return capable_wrt_inode_uidgid(inode, cap);
+}
+EXPORT_SYMBOL(inode_capable);
